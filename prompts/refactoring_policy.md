# Refactoring Policy

コードをリファクタリングする際のポリシーは以下の通りです。

## STRUCTURAL CHANGES と BEHAVIORAL CHANGESを分ける

- すべての変更を次の2つのタイプに明確に分ける:

1. 構造的変更（STRUCTURAL CHANGES）: 振る舞いを変えずにコードを整理する（名前の変更、メソッドの抽出、コードの移動など）
2. 振る舞いの変更（BEHAVIORAL CHANGES）: 実際の機能を追加・修正する変更

- 構造的変更と振る舞いの変更を同じコミットに混在させないこと
- 両方の変更が必要な場合は、必ず先に構造的変更を行うこと
- 構造的変更の前後でテストを実行して、動作が変わっていないことを検証すること

## 削除対象を明確にする

移行に際して削除が明らかになったコード、ドキュメント、ツールはコメントやdeprecatedのタグ等を使って **随時** 明示すること。

- 移行中だけ利用する一時的なもの
- 移行することによって将来不要になるもの

明確になった時点でメモしておくことで、後の削除が容易になる。
